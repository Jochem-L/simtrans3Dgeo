%Schat parameters voor PROJ4-string en PROJ-pipeline van Krayenhoff naar ETRS89

%Ellipsoides van stelsel 1 en 2
ellips1 = 'ackermann';
ellips2 = 'GRS80';

%Specificeer de volgorde van coordinaten breedte, lengte ('latlon') of lengte, breedte ('lonlat')
coordorder = 'lonlat';

%Specificeer nulmeridiaan (prime meridian) van stelsel 1 en 2
pm1 = 4.883882778;
pm2 = 0;

%Select/deselect (1/0), lon lat h van stelsel 1, lon lat h van stelsel 2 en (optioneel) puntnamen (NB: gebruik gemiddeld zeeniveau of hoogte van maaiveld als benadering van onbekende hoogte)
input = {
          1  -1.435875000  51.273491667  0    3.447952651  51.273085186  44.4637  'Aardenburg'
          1  +0.503791667  52.155661111  0    5.387203649  52.155172888  43.2772  'Amersfoort'
          1  -1.130363889  51.228194444  0    3.753385074  51.227795247  44.5598  'Assenede'
          1  +1.632872222  52.858613889  0    6.516017170  52.857998186  41.7422  'Beilen'
          1  -0.595691667  51.494877778  0    4.287951008  51.494451502  44.2796  'Bergen op Zoom'
          1  -0.223655556  51.814663889  0    4.659917170  51.814215315  43.6986  'Dordrecht'
          1  +0.409125000  52.704316667  0    5.292586877  52.703748329  42.3885  'Enkhuizen'
          1  +1.880780556  53.006141667  0    6.763866831  53.005495301  41.2681  'Gieten'
          1  +0.089127778  51.829986111  0    4.972632228  51.829528498  43.5854  'Gorinchem'
          1  -0.172944444  52.011194444  0    4.710618199  52.010724856  43.5228  'Gouda'
          1  +1.685041667  53.220063889  0    6.568198525  53.219382059  40.7535  'Groningen'
          1  +1.656800000  52.236200000  0    6.539938394  52.235686105  43.4186  'Harikerberg'
          1  -0.122086111  51.401286111  0    4.761455547  51.400865751  44.4193  'Hoogstraten'
          1  +1.476116667  53.388594444  0    6.359360218  53.387884685  40.5046  'Hornhuizen'
          1  +1.032852778  52.559622222  0    5.916148543  52.559067454  42.6241  'Kampen'
          1  +0.906294444  53.203636111  0    5.789690436  53.202986151  41.2145  'Leeuwarden'
          1  +1.524319444  52.473513889  0    6.407484892  52.472966707  42.8025  'Lemelerberg'
          1  -1.269022222  51.500005556  0    3.614768466  51.499567027  44.3207  'Middelburg'
          1  +0.278791667  52.296208333  0    5.162249993  52.295713248  43.0560  'Naarden'
          1  +0.864719444  51.286461111  0    5.748042789  51.286054138  44.3519  'Nederweert'
          1  +2.045352778  52.312900000  0    6.928375118  52.312377586  43.3548  'Oldenzaal'
          1  -0.398650000  51.921938889  0    4.484962963  51.921475043  43.5932  'Rotterdam'
          1  +0.237838889  52.091127778  0    5.121307863  52.090649525  43.3507  'Utrecht'
          1  +0.974536111  52.235180556  0    5.857829937  52.234682160  43.2328  'Veluwe'
          1  -0.968958333  51.650733333  0    3.914769678  51.650281428  44.1366  'Zierikzee'
          1  +1.312036111  52.140150000  0    6.195256320  52.139653495  43.4752  'Zutphen'
          1  -0.133452778  52.631877778  0    4.750112111  52.631344238  42.6007  'Alkmaar'
          1  +0.000000000  52.375036111  0    4.883522192  52.374530528  42.9827  'Amsterdam'
          1  +1.077547222  52.727683333  0    5.960839882  52.727104346  42.3150  'Blokzijl'
          1  -0.108738889  51.589480556  0    4.774806754  51.589043597  43.9786  'Breda'
          1  +1.217633333  53.106988889  0    6.100914372  53.106336981  41.3165  'Drachten'
          1  +0.163441667  52.512855556  0    5.046945063  52.512342197  42.6832  'Edam'
          1  -0.577052778  52.077836111  0    4.306599704  52.077361318  43.4304  '`sGravenhage'
          1  +1.734641667  52.042838889  0    6.617771709  52.042354697  43.8581  'Groenlo'
          1  -0.246380556  52.381586111  0    4.637194450  52.381078087  43.0225  'Haarlem'
          1  +0.772722222  51.478941667  0    5.656072651  51.478518315  43.9519  'Helmond'
          1  +0.424311111  51.688469444  0    5.307741617  51.688023595  43.5916  '`sHertogenbosch'
          1  +0.252800000  51.485622222  0    5.136263329  51.485195836  43.9971  'Hilvarenbeek'
          1  -0.391991667  52.156522222  0    4.491621200  52.156034429  43.3574  'Leiden'
          1  +0.827663889  52.845438889  0    5.711022674  52.844845995  42.1234  'Lemmer'
          1  +0.431122222  51.228880556  0    5.314547346  51.228481461  44.6294  'Lommel'
          1  +0.219858333  52.773730556  0    5.103376963  52.773164282  42.3244  'Medemblik'
          1  +1.306586111  52.697919444  0    6.189814341  52.697338080  42.3160  'Meppel'
          1  -0.103772222  52.150950000  0    4.779762636  52.150461437  43.3335  'Nieuwkoop'
          1  +0.978980556  51.848430556  0    5.862286222  51.847966458  43.7253  'Nijmegen'
          1  +1.168363889  52.895647222  0    6.051642386  52.895031527  41.9369  'Oldeholtpade'
          1  +2.161266667  53.031216667  0    7.044257021  53.030554075  41.1742  'Onstwedde'
          1  +0.126955556  52.931969444  0    5.010515092  52.931385292  42.1392  'Oosterland'
          1  +2.179805556  53.483808333  0    7.062850483  53.483036962  40.2809  'Pilsum'
          1  +1.762494444  52.989525000  0    6.645611898  52.988880889  41.3398  'Rolde'
          1  +0.775175000  53.032494444  0    5.658575251  53.031873093  41.7188  'Sneek'
          1  +1.127405556  51.596750000  0    6.010671391  51.596307493  44.1628  'Vierlingsbeek'
          1  -0.445722222  51.692427778  0    4.437895436  51.691979125  43.9437  'Willemstad'
          1  +2.126963889  53.194869444  0    7.009974624  53.194170301  40.7806  'Midwolda'
          1  +2.192013889  52.876666667  0    7.074942870  52.876042362  41.6136  'Ter Apel'
          1  +1.787455556  53.588630556  0    6.670642612  53.587879866  40.1668  'Borkum'
          1  +1.409891667  52.994425000  0    6.293109708  52.993789545  41.4992  'Oosterwolde'
          1  +2.273902778  52.302911111  0    7.156860280  52.302382194  43.5224  'Bentheim'
          1  -0.721458333  51.903100000  0    4.162221836  51.902637032  43.6568  'Brielle'
          1  +1.856586111  52.661125000  0    6.739660823  52.660537823  42.2533  'Coevorden'
          1  +0.528536111  53.174752778  0    5.412022060  53.174116782  41.4907  'Harlingen'
          1  -0.829616667  51.281027778  0    4.054082762  51.280618714  44.5367  'Hulst'
          1  -0.010572222  53.084741667  0    4.873037994  53.084143831  41.9712  'Oosterend'
          1  +0.680783333  51.957425000  0    5.564159582  51.956951033  43.5008  'Rhenen'
          1  +1.919477778  52.776583333  0    6.802541509  52.775975737  41.9139  'Sleen'
          1  +1.826558333  53.409030556  0    6.709701468  53.408302756  40.3992  'Uithuizermeden'
          1  +0.709927778  52.662877778  0    5.593315390  52.662315027  42.4365  'Urk'
          0  +0.174627778  53.296516667  0    5.058218870  53.295821030  41.6037  'Vlieland'
};

%Definieer ellipsoides die niet in PROJ zitten
ackermann.a = 6376950.4;
ackermann.f = 1/309.65;
ackermann.b = ackermann.a - ackermann.a * ackermann.f;
save('Ellipsoids.mat', 'ackermann'); 

%Schat parameters
diary([mfilename, '_', datestr(now(), 'yyyymmddHHMMSS'), '.txt']); %make output file
simtrans3Dgeo(input, coordorder, ellips1, ellips2, pm1, pm2); %estimate parameters
diary off; %end of outputfile
